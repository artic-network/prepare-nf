{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://raw.githubusercontent.com/artic-network/prepare-nf/main/nextflow_schema.json",
  "title": "artic-network/prepare-nf",
  "description": "Create a sample sheet for amplicon-nf.",
  "url": "https://github.com/artic-network/prepare-nf",
  "type": "object",
  "definitions": {
    "input_options": {
      "title": "Input Options",
      "type": "object",
      "fa_icon": "fas fa-terminal",
      "description": "Define where the pipeline should find input data and save output data.",
      "properties": {
        "platform": {
          "type": "string",
          "title": "Sequencing platform",
          "description": "Illumina or ONT.",
          "enum": [
            "ONT",
            "Illumina"
          ]
        },
        "run_dir": {
          "type": "string",
          "format": "path",
          "title": "Run Directory",
          "description": "The directory of fastq files generated by the sequencing platform.",
          "help_text": "For ONT this will be a directory containing subdirectories of fastq files for each barcode in the run, usually called fastq_pass."
        },
        "metadata": {
          "type": "string",
          "format": "path",
          "title": "Metadata",
          "description": "A CSV or XLS file containing columns for sample, barcode, and any additional sample information.",
          "help_text": "This can be generated from the excel templates."
        },
        "amplicon_scheme": {
          "type": "string",
          "title": "Amplicon scheme",
          "description": "Primer scheme identifier in format e.g. artic-inrb-mpox/2500/v1.0.0"
        }
      },
     "required": [
          "platform",
          "run_dir",
          "metadata",
          "amplicon_scheme"
        ]
    },
    "miscellaneous_options": {
      "title": "Miscellaneous Options",
      "type": "object",
      "fa_icon": "fas fa-file-import",
      "description": "Everything else.",
      "help_text": "These options are common to all nf-core pipelines and allow you to customise some of the core preferences for how the pipeline runs.\n\nTypically these options would be set in a Nextflow config file loaded for all pipeline runs, such as `~/.nextflow/config`.",
      "properties": {
        "help": {
          "type": "boolean",
          "title": "Display help text",
          "fa_icon": "fas fa-question-circle",
          "hidden": true
        },
        "version": {
          "type": "boolean",
          "title": "Display version",
          "description": "Display version and exit.",
          "fa_icon": "fas fa-question-circle",
          "hidden": true
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "#/definitions/input_options"
    },
    {
      "$ref": "#/definitions/advanced_options"
    },
    {
      "$ref": "#/definitions/miscellaneous_options"
    }
  ],
  "properties": {
    "aws_image_prefix": {
      "type": "string",
      "title": "AWS image prefix",
      "hidden": true
    },
    "aws_queue": {
      "type": "string",
      "title": "AWS queue",
      "hidden": true
    },
    "monochrome_logs": {
      "type": "boolean"
    },
    "validate_params": {
      "type": "boolean",
      "default": true
    },
    "show_hidden_params": {
      "type": "boolean"
    }
  },
  "docs": {
    "intro": "\n## Introduction\n\n",
    "links": "## Useful links\n\n* [nextflow](https://www.nextflow.io/)\n* [docker](https://www.docker.com/products/docker-desktop)"
  }
}
